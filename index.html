<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>eibe Company Intro</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body,
            html {
                width: 100%;
                height: 100%;
                background-color: black;
                overflow: hidden;
                font-family: "Arial", sans-serif;
            }
            #intro {
                width: 100%;
                height: 100%;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                opacity: 1;
                transition: opacity 1s ease;
                position: relative;
                overflow: hidden;
            }
            #eibe-title,
            #slogan {
                transition: opacity 0.5s ease-in-out, transform 0.5s ease;

                white-space: pre-wrap; /* Í∏∞Î≥∏ white-space: nowrapÏóêÏÑú Î≥ÄÍ≤Ω */
            }
            .slide-out {
                transform: translateX(100vw);
                opacity: 0;
            }
            #eibe-title {
                font-size: clamp(24px, 5vw, 72px);
                font-weight: bold;
                letter-spacing: 10px;
                opacity: 1;
                margin-bottom: 20px;
                color: #f0f0f0;
                text-shadow: 0 0 4px #aaa, 0 0 8px #888, 0 0 12px #666;
                animation: popIn 1s ease-out,
                    softGlow 3s ease-in-out infinite alternate;
            }
            @keyframes softGlow {
                0% {
                    text-shadow: 0 0 4px #aaa, 0 0 8px #888, 0 0 12px #666;
                }
                100% {
                    text-shadow: 0 0 6px #999, 0 0 12px #777, 0 0 16px #555;
                }
            }
            @keyframes popIn {
                0% {
                    transform: scale(0.8);
                    opacity: 0;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }
            #slogan {
                font-size: clamp(16px, 2.2vw, 36px);
                font-weight: 400;
                letter-spacing: 0.5px;
                opacity: 0;
                white-space: nowrap;
                font-family: "Georgia", serif;
                color: #dddddd;
                text-shadow: 0 0 4px rgba(255, 255, 255, 0.2);
            }
            #slogan span {
                display: inline-block;
                opacity: 0;
                animation: fadeChar 0.3s forwards;
            }
            @keyframes fadeChar {
                to {
                    opacity: 1;
                    text-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
                }
            }
            #enter-hint {
                position: absolute;
                bottom: 40px;
                font-size: 1rem;
                color: white;
                text-shadow: 0 0 6px #999, 0 0 10px #666;
                animation: pulse 1.5s infinite;
            }
            @keyframes pulse {
                0% {
                    opacity: 0.4;
                    transform: scale(1);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.1);
                }
                100% {
                    opacity: 0.4;
                    transform: scale(1);
                }
            }
            #slider {
                width: 100%;
                height: 100%;
                position: relative;
                display: none;
                opacity: 0;
                transform: translateX(100%);
                transition: opacity 1s ease, transform 1s ease;
            }
            #slide-img {
                width: 100%;
                height: 100%;
                object-fit: contain;
                opacity: 1;
                transition: opacity 0.5s ease-in-out;
            }
            #progress-bar {
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 8px;
                background-color: rgba(255, 255, 255, 0.2);
                box-shadow: 0 0 5px #ffffff80;
            }
            #progress-fill {
                width: 0%;
                height: 100%;
                background-color: #d4af37;
                transition: width 0.3s ease;
                box-shadow: 0 0 8px #d4af37;
            }
            #progress-counter {
                position: absolute;
                bottom: 12px;
                right: 20px;
                font-size: 1rem;
                color: white;
                font-weight: bold;
                text-shadow: 0 0 5px black;
            }
            #final-page {
                display: none;
                position: absolute;
                inset: 0;
                background: black;
                color: white;
                justify-content: center;
                align-items: center;
                text-align: center;
                flex-direction: column;
                z-index: 9999;
                font-family: "Georgia", serif;
                font-size: 2rem;
            }
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: scale(0.9);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
        </style>
    </head>
    <body>
        <div id="intro" aria-hidden="false">
            <div id="eibe-title">eibe</div>
            <div id="slogan"></div>
            <div id="enter-hint">Press ENTER or TAP to continue</div>
        </div>
        <div id="slider">
            <img id="slide-img" src="./slides/slideshow1.PNG" alt="slide" />
            <div id="progress-bar">
                <div id="progress-fill"></div>
            </div>
            <div id="progress-counter">1 / 48</div>
        </div>
        <div id="final-page">
            <h1 style="font-size: 3rem; animation: fadeIn 2s ease-out forwards">
                Thank you for joining us.
            </h1>
            <p style="margin-top: 20px; font-size: 1.5rem; opacity: 0.8">
                Together, we grow stronger. üöÄ
            </p>
        </div>
        <script>
            let currentSlide = 1;
            const totalSlides = 49;
            const slideImg = document.getElementById("slide-img");
            const intro = document.getElementById("intro");
            const slider = document.getElementById("slider");
            const slogan = document.getElementById("slogan");
            const eibeTitle = document.getElementById("eibe-title");
            const hint = document.getElementById("enter-hint");
            const progressFill = document.getElementById("progress-fill");
            const finalPage = document.getElementById("final-page");

            let stage = 0;
            const sloganText = "Wishing_You_Symbiotic_Growth";

            function handleAdvance() {
                if (stage === 0) {
                    showSlogan();
                    stage = 1;
                } else if (stage === 1) {
                    animateTextOut(() => {
                        endIntro();
                        stage = 2;
                        updateProgressBar();
                    });
                } else {
                    nextSlide();
                }
            }

            document.addEventListener("keydown", (e) => {
                if (e.code === "Enter" && !e.repeat) {
                    handleAdvance();
                } else if (e.code === "Backspace" && !e.repeat) {
                    e.preventDefault();
                    if (finalPage.style.display === "flex") {
                        // ÏµúÏ¢Ö ÌéòÏù¥ÏßÄÍ∞Ä Î≥¥Ïù¥Îäî ÏÉÅÌÉúÎùºÎ©¥, Îã§Ïãú Ïä¨ÎùºÏù¥ÎçîÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                        finalPage.style.display = "none";
                        slider.style.display = "block";
                        slider.style.opacity = 1;
                        slider.style.transform = "translateX(0)";
                        stage = 2; // Ïä¨ÎùºÏù¥Îìú ÏßÑÌñâ ÏÉÅÌÉúÎ°ú ÏÑ§Ï†ï
                    } else if (stage === 2 && currentSlide > 1) {
                        prevSlide();
                    } else if (stage === 2 && currentSlide === 1) {
                        showIntro();
                        stage = 1;
                    } else if (stage === 1) {
                        resetSlogan();
                        stage = 0;
                    }
                }
            });

            document.addEventListener("touchstart", () => {
                handleAdvance();
            });

            function showSlogan() {
                slogan.innerHTML = "";
                const textWithSpaces = sloganText.replace(/_/g, " ");
                for (let i = 0; i < textWithSpaces.length; i++) {
                    const span = document.createElement("span");
                    // Í≥µÎ∞±Ïù¥Î©¥ &nbsp;Î°ú ÏÑ§Ï†ï
                    if (textWithSpaces[i] === " ") {
                        span.innerHTML = "&nbsp;";
                    } else {
                        span.textContent = textWithSpaces[i];
                    }
                    span.style.animationDelay = `${i * 80}ms`;
                    slogan.appendChild(span);
                }
                slogan.style.opacity = 1;
            }

            function animateTextOut(callback) {
                eibeTitle.classList.add("slide-out");
                slogan.classList.add("slide-out");
                hint.classList.add("slide-out");
                setTimeout(() => {
                    if (callback) callback();
                }, 1000);
            }

            function resetSlogan() {
                slogan.textContent = "";
                slogan.style.opacity = 0;
            }

            function endIntro() {
                intro.style.opacity = 0;
                setTimeout(() => {
                    intro.style.display = "none";
                    slider.style.display = "block";
                    setTimeout(() => {
                        slider.style.opacity = 1;
                        slider.style.transform = "translateX(0)";
                    }, 50);
                }, 1000);
            }

            function showIntro() {
                slider.style.opacity = 0;
                slider.style.transform = "translateX(100%)";
                setTimeout(() => {
                    slider.style.display = "none";
                    intro.style.display = "flex";
                    eibeTitle.classList.remove("slide-out");
                    slogan.classList.remove("slide-out");
                    hint.classList.remove("slide-out");
                    setTimeout(() => {
                        intro.style.opacity = 1;
                    }, 50);
                }, 500);
            }

            function showFinalPage() {
                slider.style.display = "none";
                finalPage.style.display = "flex";
            }

            function nextSlide() {
                if (currentSlide < totalSlides) {
                    currentSlide++;
                    if (currentSlide === totalSlides) {
                        showFinalPage();
                    } else {
                        updateSlide();
                    }
                    updateProgressBar();
                }
            }

            function prevSlide() {
                if (currentSlide > 1) {
                    currentSlide--;
                    updateSlide();
                    updateProgressBar();
                }
            }

            function updateSlide() {
                const path = `slides/slideshow${currentSlide}.PNG`;
                slideImg.style.opacity = 0;
                setTimeout(() => {
                    slideImg.src = path;
                    slideImg.onload = () => {
                        slideImg.style.opacity = 1;
                    };
                    slideImg.onerror = () => {
                        alert(`Ïù¥ÎØ∏ÏßÄ Î°úÎî© Ïã§Ìå®: ${path}`);
                        slideImg.style.opacity = 1;
                    };
                }, 200);
            }

            function updateProgressBar() {
                const percent = (currentSlide / totalSlides) * 100;
                progressFill.style.width = `${percent}%`;

                const counter = document.getElementById("progress-counter");
                if (counter) {
                    counter.textContent = `${currentSlide} / ${totalSlides}`;
                }
            }
        </script>
    </body>
</html>
